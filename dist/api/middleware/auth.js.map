{"version":3,"sources":["../../../api/middleware/auth.js"],"names":["jwt","require","salt","httpStatus","module","exports","req","res","next","token","headers","authorization","split","decoded","verify","JWT_TOKEN_SALT","userData","error","status","HTTP_CODE","UNAUTHORIZED","json","message"],"mappings":";;AAAA,IAAMA,MAAMC,QAAQ,cAAR,CAAZ;AACA,IAAMC,OAAOD,QAAQ,cAAR,CAAb;AACA,IAAME,aAAaF,QAAQ,cAAR,CAAnB;;AAEAG,OAAOC,OAAP,GAAiB,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACjC,QAAI;AACA,YAAIC,QAAQH,IAAII,OAAJ,CAAYC,aAAZ,CAA0BC,KAA1B,CAAgC,GAAhC,EAAqC,CAArC,CAAZ;AACA,YAAIC,UAAUb,IAAIc,MAAJ,CAAWL,KAAX,EAAkBP,KAAKa,cAAvB,CAAd;AACAT,YAAIU,QAAJ,GAAeH,OAAf;AACAL;AACH,KALD,CAKE,OAAOS,KAAP,EAAc;AACZV,YAAIW,MAAJ,CAAWf,WAAWgB,SAAX,CAAqBC,YAAhC,EACKC,IADL,CACU;AACFC,qBAAS;AADP,SADV;AAIH;AACJ,CAZD","file":"auth.js","sourcesContent":["const jwt = require('jsonwebtoken');\nconst salt = require('../constants');\nconst httpStatus = require('../constants');\n\nmodule.exports = (req, res, next) => {\n    try {\n        let token = req.headers.authorization.split(\" \")[1];\n        let decoded = jwt.verify(token, salt.JWT_TOKEN_SALT);\n        req.userData = decoded;\n        next();\n    } catch (error) {\n        res.status(httpStatus.HTTP_CODE.UNAUTHORIZED)\n            .json({\n                message: \"Authorization failed!\"\n            });\n    }\n}"]}